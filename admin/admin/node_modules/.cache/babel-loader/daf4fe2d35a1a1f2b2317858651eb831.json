{"remainingRequest":"E:\\GraduateDesign\\admin\\admin\\node_modules\\_babel-loader@8.3.0@babel-loader\\lib\\index.js!E:\\GraduateDesign\\admin\\admin\\src\\utils\\http.js","dependencies":[{"path":"E:\\GraduateDesign\\admin\\admin\\src\\utils\\http.js","mtime":1646640813917},{"path":"E:\\GraduateDesign\\admin\\admin\\babel.config.js","mtime":1646639293025},{"path":"E:\\GraduateDesign\\admin\\admin\\node_modules\\_cache-loader@4.1.0@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\GraduateDesign\\admin\\admin\\node_modules\\_babel-loader@8.3.0@babel-loader\\lib\\index.js","mtime":456789000000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnB1c2guanMiOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwppbXBvcnQgcm91dGVyIGZyb20gJ0Avcm91dGVyL3JvdXRlci1zdGF0aWMnOwppbXBvcnQgc3RvcmFnZSBmcm9tICdAL3V0aWxzL3N0b3JhZ2UnOwp2YXIgaHR0cCA9IGF4aW9zLmNyZWF0ZSh7CiAgdGltZW91dDogMTAwMCAqIDg2NDAwLAogIHdpdGhDcmVkZW50aWFsczogdHJ1ZSwKICBiYXNlVVJMOiAnL3poaW5lbmd4dWV4aXBpbmd0YWknLAogIGhlYWRlcnM6IHsKICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD11dGYtOCcKICB9Cn0pOwovLyDor7fmsYLmi6bmiKoKaHR0cC5pbnRlcmNlcHRvcnMucmVxdWVzdC51c2UoZnVuY3Rpb24gKGNvbmZpZykgewogIGNvbmZpZy5oZWFkZXJzWydUb2tlbiddID0gc3RvcmFnZS5nZXQoJ1Rva2VuJyk7IC8vIOivt+axguWktOW4puS4inRva2VuCiAgcmV0dXJuIGNvbmZpZzsKfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTsKfSk7Ci8vIOWTjeW6lOaLpuaIqgpodHRwLmludGVyY2VwdG9ycy5yZXNwb25zZS51c2UoZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgaWYgKHJlc3BvbnNlLmRhdGEgJiYgcmVzcG9uc2UuZGF0YS5jb2RlID09PSA0MDEpIHsKICAgIC8vIDQwMSwgdG9rZW7lpLHmlYgKICAgIHJvdXRlci5wdXNoKHsKICAgICAgbmFtZTogJ2xvZ2luJwogICAgfSk7CiAgfQogIHJldHVybiByZXNwb25zZTsKfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTsKfSk7CmV4cG9ydCBkZWZhdWx0IGh0dHA7"},{"version":3,"names":["axios","router","storage","http","create","timeout","withCredentials","baseURL","headers","interceptors","request","use","config","get","error","Promise","reject","response","data","code","push","name"],"sources":["E:/GraduateDesign/admin/admin/src/utils/http.js"],"sourcesContent":["import axios from 'axios'\r\nimport router from '@/router/router-static'\r\nimport storage from '@/utils/storage'\r\n\r\nconst http = axios.create({\r\n    timeout: 1000 * 86400,\r\n    withCredentials: true,\r\n    baseURL: '/zhinengxuexipingtai',\r\n    headers: {\r\n        'Content-Type': 'application/json; charset=utf-8'\r\n    }\r\n})\r\n// 请求拦截\r\nhttp.interceptors.request.use(config => {\r\n    config.headers['Token'] = storage.get('Token') // 请求头带上token\r\n    return config\r\n}, error => {\r\n    return Promise.reject(error)\r\n})\r\n// 响应拦截\r\nhttp.interceptors.response.use(response => {\r\n    if (response.data && response.data.code === 401) { // 401, token失效\r\n        router.push({ name: 'login' })\r\n    }\r\n    return response\r\n}, error => {\r\n    return Promise.reject(error)\r\n})\r\nexport default http"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,MAAM,MAAM,wBAAwB;AAC3C,OAAOC,OAAO,MAAM,iBAAiB;AAErC,IAAMC,IAAI,GAAGH,KAAK,CAACI,MAAM,CAAC;EACtBC,OAAO,EAAE,IAAI,GAAG,KAAK;EACrBC,eAAe,EAAE,IAAI;EACrBC,OAAO,EAAE,sBAAsB;EAC/BC,OAAO,EAAE;IACL,cAAc,EAAE;EACpB;AACJ,CAAC,CAAC;AACF;AACAL,IAAI,CAACM,YAAY,CAACC,OAAO,CAACC,GAAG,CAAC,UAAAC,MAAM,EAAI;EACpCA,MAAM,CAACJ,OAAO,CAAC,OAAO,CAAC,GAAGN,OAAO,CAACW,GAAG,CAAC,OAAO,CAAC,EAAC;EAC/C,OAAOD,MAAM;AACjB,CAAC,EAAE,UAAAE,KAAK,EAAI;EACR,OAAOC,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAChC,CAAC,CAAC;AACF;AACAX,IAAI,CAACM,YAAY,CAACQ,QAAQ,CAACN,GAAG,CAAC,UAAAM,QAAQ,EAAI;EACvC,IAAIA,QAAQ,CAACC,IAAI,IAAID,QAAQ,CAACC,IAAI,CAACC,IAAI,KAAK,GAAG,EAAE;IAAE;IAC/ClB,MAAM,CAACmB,IAAI,CAAC;MAAEC,IAAI,EAAE;IAAQ,CAAC,CAAC;EAClC;EACA,OAAOJ,QAAQ;AACnB,CAAC,EAAE,UAAAH,KAAK,EAAI;EACR,OAAOC,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAChC,CAAC,CAAC;AACF,eAAeX,IAAI"}]}